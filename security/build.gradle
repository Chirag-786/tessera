plugins {
    id "java-library"
}

dependencies {
    implementation project(":config")
    implementation project(":shared")
    implementation "org.bouncycastle:bcpkix-jdk15on"
    implementation "org.bouncycastle:bcprov-jdk15on"

    implementation "org.cryptacular:cryptacular"
    implementation "jakarta.xml.bind:jakarta.xml.bind-api"
}

description = "security"

test {
    moduleOptions {
        addOpens = [
                "java.base/sun.security.ssl" : "org.assertj.core",
                "java.base/javax.net.ssl" : "org.assertj.core",
                "tessera.security.main/com.quorum.tessera.ssl.context.model" : "openpojo"
        ]
    }
}

compileTestJava {
    moduleOptions {
        addReads = [
                "sun.security.x509": "org.assertj.core"
        ]
    }
}